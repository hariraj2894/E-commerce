{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gange\\\\Desktop\\\\paymentgate\\\\frontend\\\\src\\\\components\\\\PaymentPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PaymentPage = () => {\n  _s();\n  var _cart$, _cart$$artisanId;\n  const {\n    state\n  } = useLocation();\n  const {\n    cart = [],\n    totalPrice = 0\n  } = state || {};\n  const [paymentStatus, setPaymentStatus] = useState(null);\n  const userId = localStorage.getItem(\"user\");\n  const [allowCOD, setAllowCOD] = useState(false);\n  const [user, setUser] = useState(null);\n  const [codCount, setCodCount] = useState(0);\n  const [address, setAddress] = useState(\"\");\n  const [isAddressValid, setIsAddressValid] = useState(false);\n  const [cardDetails, setCardDetails] = useState({\n    cardNumber: \"\",\n    expiryDate: \"\",\n    cvv: \"\"\n  });\n  const artistId = (_cart$ = cart[0]) === null || _cart$ === void 0 ? void 0 : (_cart$$artisanId = _cart$.artisanId) === null || _cart$$artisanId === void 0 ? void 0 : _cart$$artisanId._id;\n  useEffect(() => {\n    const checkCODLimit = async () => {\n      try {\n        const response = await axios.get(`http://localhost:4000/api/cod/${userId}`);\n        setUser(response.data);\n        setCodCount(response.data.codCount);\n        if (response.data.codCount >= 5) {\n          setAllowCOD(true);\n        }\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      }\n    };\n    checkCODLimit();\n  }, [userId]);\n  const handlePayment = async paymentMethod => {\n    if (!isAddressValid) {\n      alert(\"Please enter a valid address before making the payment.\");\n      return;\n    }\n    if (!artistId) {\n      setPaymentStatus(\"Error: Artisan not found.\");\n      return;\n    }\n    setPaymentStatus(\"Processing...\");\n    const productData = cart.map(item => ({\n      productId: item._id,\n      quantity: item.quantity,\n      pname: item.name\n    }));\n    try {\n      if (paymentMethod === \"Online\") {\n        // Create Razorpay order\n        const {\n          data: razorpayOrder\n        } = await axios.post(\"http://localhost:4000/api/create-order\", {\n          amount: totalPrice\n        });\n        const options = {\n          key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n          amount: razorpayOrder.amount,\n          currency: \"INR\",\n          order_id: razorpayOrder.id,\n          name: \"Your Store Name\",\n          description: \"Payment for your order\",\n          image: \"your-logo-url\",\n          handler: async response => {\n            try {\n              const paymentResponse = await axios.post(\"/api/confirm-payment\", {\n                orderId: razorpayOrder.id,\n                paymentId: response.razorpay_payment_id,\n                signature: response.razorpay_signature\n              });\n              setPaymentStatus(\"Payment Successful!\");\n              window.location.href = \"/your-profile\";\n            } catch (error) {\n              console.error(\"Payment Verification Error:\", error);\n              setPaymentStatus(\"Payment Failed. Please try again.\");\n            }\n          },\n          prefill: {\n            name: (user === null || user === void 0 ? void 0 : user.name) || \"Your Name\",\n            email: (user === null || user === void 0 ? void 0 : user.email) || \"your-email@example.com\",\n            contact: (user === null || user === void 0 ? void 0 : user.contact) || \"your-contact-number\"\n          },\n          theme: {\n            color: \"#3399cc\"\n          },\n          modal: {\n            ondismiss: () => setPaymentStatus(\"Payment Cancelled or Failed.\")\n          }\n        };\n        const paymentObject = new window.Razorpay(options);\n        paymentObject.open();\n      } else {\n        // Handle COD\n        const [updateResponse, codResponse, cartResponse] = await Promise.allSettled([axios.post(\"http://localhost:4000/api/updateearned\", {\n          artisianId: artistId,\n          amount: totalPrice\n        }), axios.post(`http://localhost:4000/api/checkcod/${userId}`), axios.post(\"http://localhost:4000/api/usercart\", {\n          userId,\n          quantity: cart.length,\n          productIds: productData,\n          address\n        })]);\n        if (updateResponse.status === 'fulfilled' && cartResponse.status === 'fulfilled') {\n          setPaymentStatus(\"Payment Successful!\");\n          window.location.href = '/your-profile';\n        } else {\n          setPaymentStatus(\"Payment Failed. Please try again.\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Payment error:\", error);\n      setPaymentStatus(\"Payment Failed. Please try again.\");\n    }\n  };\n  const handleAddressChange = e => {\n    const inputAddress = e.target.value;\n    setAddress(inputAddress);\n    const isValidAddress = /^[a-zA-Z0-9\\s,'-]{5,}$/.test(inputAddress);\n    setIsAddressValid(isValidAddress);\n  };\n  const handleCardInputChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setCardDetails(prevDetails => ({\n      ...prevDetails,\n      [id]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-10 bg-gradient-to-r from-white to-gray-200 rounded-lg max-w-2xl mx-auto mt-12 shadow-xl font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold text-center text-gray-800 mb-10 uppercase tracking-wider\",\n      children: \"Payment Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-5 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-800\",\n        children: \"Cart Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No items in the cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this) : cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center p-5 bg-white rounded-lg shadow-md hover:transform hover:translate-y-2 hover:shadow-lg transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image,\n          alt: item.name,\n          className: \"w-24 h-24 object-cover rounded-lg mr-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-gray-700\",\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-gray-600\",\n            children: [\"\\u20B9\", item.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-md text-gray-500\",\n            children: [\"Quantity: \", item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-red-600 font-semibold\",\n            children: [\"Total: \\u20B9\", item.price * item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-right text-xl font-semibold text-gray-800\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Total: \\u20B9\", totalPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-800\",\n        children: \"Enter Your Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Enter your delivery address\",\n        value: address,\n        onChange: handleAddressChange,\n        className: \"w-full p-3 mt-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), !isAddressValid && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm mt-2\",\n        children: \"Please enter a valid address with at least 5 characters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-800\",\n        children: \"Payment Method\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg text-gray-700\",\n        children: codCount < 5 ? `${5 - codCount} COD orders left before online payment is available.` : 'You can now use both COD and online payment options.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handlePayment(\"COD\"),\n        className: \"bg-gradient-to-r from-purple-600 to-blue-500 text-white py-3 rounded-lg text-lg font-semibold hover:scale-105 transition\",\n        children: \"Cash on Delivery\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), codCount >= 5 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePayment(\"Online\"),\n          className: `${isAddressValid ? \"bg-gradient-to-r from-purple-600 to-blue-500\" : \"bg-gray-400 cursor-not-allowed\"} text-white py-3 rounded-lg text-lg font-semibold hover:scale-105 transition`,\n          disabled: !isAddressValid,\n          children: \"Pay Online\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), paymentStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xl text-center mt-6 font-semibold text-green-600\",\n      children: paymentStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentPage, \"VPZVyFk6y2yWtF8x5lyUEuDZsjQ=\", false, function () {\n  return [useLocation];\n});\n_c = PaymentPage;\nexport default PaymentPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","PaymentPage","_s","_cart$","_cart$$artisanId","state","cart","totalPrice","paymentStatus","setPaymentStatus","userId","localStorage","getItem","allowCOD","setAllowCOD","user","setUser","codCount","setCodCount","address","setAddress","isAddressValid","setIsAddressValid","cardDetails","setCardDetails","cardNumber","expiryDate","cvv","artistId","artisanId","_id","checkCODLimit","response","get","data","error","console","handlePayment","paymentMethod","alert","productData","map","item","productId","quantity","pname","name","razorpayOrder","post","amount","options","key","process","env","REACT_APP_RAZORPAY_KEY_ID","currency","order_id","id","description","image","handler","paymentResponse","orderId","paymentId","razorpay_payment_id","signature","razorpay_signature","window","location","href","prefill","email","contact","theme","color","modal","ondismiss","paymentObject","Razorpay","open","updateResponse","codResponse","cartResponse","Promise","allSettled","artisianId","length","productIds","status","handleAddressChange","e","inputAddress","target","value","isValidAddress","test","handleCardInputChange","prevDetails","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","price","placeholder","onChange","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/gange/Desktop/paymentgate/frontend/src/components/PaymentPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst PaymentPage = () => {\r\n  const { state } = useLocation();\r\n  const { cart = [], totalPrice = 0 } = state || {}; \r\n  const [paymentStatus, setPaymentStatus] = useState(null);\r\n  const userId = localStorage.getItem(\"user\");\r\n  const [allowCOD, setAllowCOD] = useState(false); \r\n  const [user, setUser] = useState(null); \r\n  const [codCount, setCodCount] = useState(0); \r\n  const [address, setAddress] = useState(\"\"); \r\n  const [isAddressValid, setIsAddressValid] = useState(false); \r\n  const [cardDetails, setCardDetails] = useState({\r\n    cardNumber: \"\",\r\n    expiryDate: \"\",\r\n    cvv: \"\"\r\n  });\r\n  const artistId = cart[0]?.artisanId?._id;\r\n\r\n  useEffect(() => {\r\n    const checkCODLimit = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:4000/api/cod/${userId}`);\r\n        setUser(response.data);\r\n        setCodCount(response.data.codCount);\r\n        if (response.data.codCount >= 5) {\r\n          setAllowCOD(true);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      }\r\n    };\r\n    checkCODLimit();\r\n  }, [userId]);\r\n\r\n  const handlePayment = async (paymentMethod) => {\r\n    if (!isAddressValid) {\r\n      alert(\"Please enter a valid address before making the payment.\");\r\n      return;\r\n    }\r\n\r\n    if (!artistId) {\r\n      setPaymentStatus(\"Error: Artisan not found.\");\r\n      return;\r\n    }\r\n\r\n    setPaymentStatus(\"Processing...\");\r\n\r\n    const productData = cart.map(item => ({\r\n      productId: item._id,\r\n      quantity: item.quantity,\r\n      pname: item.name,\r\n    }));\r\n\r\n    try {\r\n      if (paymentMethod === \"Online\") {\r\n        // Create Razorpay order\r\n        const { data: razorpayOrder } = await axios.post(\"http://localhost:4000/api/create-order\", {\r\n          amount: totalPrice,\r\n        });\r\n\r\n        const options = {\r\n          key: process.env.REACT_APP_RAZORPAY_KEY_ID,\r\n          amount: razorpayOrder.amount,\r\n          currency: \"INR\",\r\n          order_id: razorpayOrder.id,\r\n          name: \"Your Store Name\",\r\n          description: \"Payment for your order\",\r\n          image: \"your-logo-url\",\r\n          handler: async (response) => {\r\n            try {\r\n              const paymentResponse = await axios.post(\"/api/confirm-payment\", {\r\n                orderId: razorpayOrder.id,\r\n                paymentId: response.razorpay_payment_id,\r\n                signature: response.razorpay_signature,\r\n              });\r\n              setPaymentStatus(\"Payment Successful!\");\r\n              window.location.href = \"/your-profile\";\r\n            } catch (error) {\r\n              console.error(\"Payment Verification Error:\", error);\r\n              setPaymentStatus(\"Payment Failed. Please try again.\");\r\n            }\r\n          },\r\n          prefill: {\r\n            name: user?.name || \"Your Name\",\r\n            email: user?.email || \"your-email@example.com\",\r\n            contact: user?.contact || \"your-contact-number\",\r\n          },\r\n          theme: { color: \"#3399cc\" },\r\n          modal: {\r\n            ondismiss: () => setPaymentStatus(\"Payment Cancelled or Failed.\"),\r\n          },\r\n        };\r\n        \r\n\r\n        const paymentObject = new window.Razorpay(options);\r\n        paymentObject.open();\r\n      } else {\r\n        // Handle COD\r\n        const [updateResponse, codResponse, cartResponse] = await Promise.allSettled([\r\n          axios.post(\"http://localhost:4000/api/updateearned\", { artisianId: artistId, amount: totalPrice }),\r\n          axios.post(`http://localhost:4000/api/checkcod/${userId}`),\r\n          axios.post(\"http://localhost:4000/api/usercart\", { userId, quantity: cart.length, productIds: productData, address })\r\n        ]);\r\n\r\n        if (updateResponse.status === 'fulfilled' && cartResponse.status === 'fulfilled') {\r\n          setPaymentStatus(\"Payment Successful!\");\r\n          window.location.href = '/your-profile';\r\n        } else {\r\n          setPaymentStatus(\"Payment Failed. Please try again.\");\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Payment error:\", error);\r\n      setPaymentStatus(\"Payment Failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleAddressChange = (e) => {\r\n    const inputAddress = e.target.value;\r\n    setAddress(inputAddress);\r\n    const isValidAddress = /^[a-zA-Z0-9\\s,'-]{5,}$/.test(inputAddress); \r\n    setIsAddressValid(isValidAddress);\r\n  };\r\n\r\n  const handleCardInputChange = (e) => {\r\n    const { id, value } = e.target;\r\n    setCardDetails(prevDetails => ({\r\n      ...prevDetails,\r\n      [id]: value\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-10 bg-gradient-to-r from-white to-gray-200 rounded-lg max-w-2xl mx-auto mt-12 shadow-xl font-sans\">\r\n      <h1 className=\"text-4xl font-bold text-center text-gray-800 mb-10 uppercase tracking-wider\">Payment Details</h1>\r\n      <div className=\"flex flex-col gap-5 mb-8\">\r\n        <h2 className=\"text-2xl font-semibold text-gray-800\">Cart Items</h2>\r\n        {cart.length === 0 ? (\r\n          <p>No items in the cart</p>\r\n        ) : (\r\n          cart.map((item) => (\r\n            <div key={item._id} className=\"flex items-center p-5 bg-white rounded-lg shadow-md hover:transform hover:translate-y-2 hover:shadow-lg transition\">\r\n              <img src={item.image} alt={item.name} className=\"w-24 h-24 object-cover rounded-lg mr-5\" />\r\n              <div className=\"flex flex-col gap-2\">\r\n                <p className=\"text-lg font-semibold text-gray-700\">{item.name}</p>\r\n                <p className=\"text-lg text-gray-600\">₹{item.price}</p>\r\n                <p className=\"text-md text-gray-500\">Quantity: {item.quantity}</p>\r\n                <p className=\"text-lg text-red-600 font-semibold\">Total: ₹{item.price * item.quantity}</p>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n        <div className=\"mt-4 text-right text-xl font-semibold text-gray-800\">\r\n          <h3>Total: ₹{totalPrice}</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-semibold text-gray-800\">Enter Your Address</h2>\r\n        <textarea\r\n          placeholder=\"Enter your delivery address\"\r\n          value={address}\r\n          onChange={handleAddressChange}\r\n          className=\"w-full p-3 mt-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n        />\r\n        {!isAddressValid && <p className=\"text-red-500 text-sm mt-2\">Please enter a valid address with at least 5 characters.</p>}\r\n      </div>\r\n\r\n      <div className=\"flex flex-col gap-6\">\r\n        <h2 className=\"text-2xl font-semibold text-gray-800\">Payment Method</h2>\r\n        <h3 className=\"text-lg text-gray-700\">{codCount < 5 ? `${5 - codCount} COD orders left before online payment is available.` : 'You can now use both COD and online payment options.'}</h3>\r\n        \r\n        <button\r\n          onClick={() => handlePayment(\"COD\")}\r\n          className=\"bg-gradient-to-r from-purple-600 to-blue-500 text-white py-3 rounded-lg text-lg font-semibold hover:scale-105 transition\"\r\n        >\r\n          Cash on Delivery\r\n        </button>\r\n\r\n        {codCount >= 5 && (\r\n          <>\r\n            <button\r\n              onClick={() => handlePayment(\"Online\")}\r\n              className={`${isAddressValid ? \"bg-gradient-to-r from-purple-600 to-blue-500\" : \"bg-gray-400 cursor-not-allowed\"} text-white py-3 rounded-lg text-lg font-semibold hover:scale-105 transition`}\r\n              disabled={!isAddressValid}\r\n            >\r\n              Pay Online\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {paymentStatus && <p className=\"text-xl text-center mt-6 font-semibold text-green-600\">{paymentStatus}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}